import { d as createAstro, c as createComponent, m as maybeRenderHead, s as spreadAttributes, a as renderTemplate, r as renderComponent, e as renderScript } from '../../chunks/astro/server_D5FaFTUc.mjs';
import { $ as $$BasicLayout } from '../../chunks/BasicLayout_BbO7esl8.mjs';
import { $ as $$Copy2, a as $$Trash } from '../../chunks/Trash_Byfm8e1P.mjs';
/* empty css                                            */
export { renderers } from '../../renderers.mjs';

const $$Astro$1 = createAstro("https://adrianpalomo.com");
const $$Undo = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$Undo;
  return renderTemplate`${maybeRenderHead()}<svg${spreadAttributes(Astro2.props)} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-back-up"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 14l-4 -4l4 -4"></path><path d="M5 10h11a4 4 0 1 1 0 8h-1"></path></svg>`;
}, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/components/icons/Undo.astro", void 0);

const $$Astro = createAstro("https://adrianpalomo.com");
const $$Redo = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Redo;
  return renderTemplate`${maybeRenderHead()}<svg${spreadAttributes(Astro2.props)} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-forward-up"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 14l4 -4l-4 -4"></path><path d="M19 10h-11a4 4 0 1 0 0 8h1"></path></svg>`;
}, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/components/icons/Redo.astro", void 0);

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$JsonFormatter = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate(_a || (_a = __template(["", " <script>\n	// Global variables\n	let codeMirrorEditor;\n	let undoStack = [];\n	let redoStack = [];\n	let currentValue = '';\n\n	// Toggle button states - CORRECT DEFAULTS\n	let toggleStates = {\n		cleanEscapes: false, // INACTIVO por defecto\n		autoFormat: true, // ACTIVO por defecto\n		select2search: false, // INACTIVO por defecto\n		caseSensitive: false, // INACTIVO por defecto\n		wholeWord: false, // INACTIVO por defecto\n	};\n\n	document.addEventListener('DOMContentLoaded', function () {\n		// Wait for CodeMirror to load\n		if (typeof CodeMirror === 'undefined') {\n			setTimeout(\n				() => document.dispatchEvent(new Event('DOMContentLoaded')),\n				100\n			);\n			return;\n		}\n\n		initializeCodeMirror();\n		const savedText = localStorage.getItem('textoJSON');\n\n		// Load saved text\n		if (savedText) {\n			setEditorContent(savedText);\n			currentValue = savedText;\n		}\n\n		updateHistoryPicklist();\n		initializeEventListeners();\n		loadToggleStates();\n	});\n\n	function initializeCodeMirror() {\n		const editorContainer = document.getElementById('jsonEditor');\n\n		codeMirrorEditor = CodeMirror(editorContainer, {\n			mode: 'application/json',\n			theme: 'default',\n			lineNumbers: true,\n			lineWrapping: true,\n			foldGutter: true,\n			gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n			indentUnit: 2,\n			tabSize: 2,\n			matchBrackets: true,\n			autoCloseBrackets: true,\n			showCursorWhenSelecting: true,\n			viewportMargin: Infinity, // CRITICAL: This removes internal scroll and makes it auto-size\n			scrollbarStyle: null, // Remove all scrollbars\n			extraKeys: {\n				'Ctrl-Q': function (cm) {\n					cm.foldCode(cm.getCursor());\n				},\n				'Alt-F': function (cm) {\n					cm.foldCode(cm.getCursor());\n				},\n				'Ctrl-F': function (cm) {\n					document.getElementById('searchInput').focus();\n					return false;\n				},\n				'Ctrl-H': function (cm) {\n					document.getElementById('replaceInput').focus();\n					return false;\n				},\n				'Ctrl-Z': function (cm) {\n					undo();\n					return false;\n				},\n				'Ctrl-Y': function (cm) {\n					redo();\n					return false;\n				},\n				'Shift-Ctrl-Z': function (cm) {\n					redo();\n					return false;\n				},\n			},\n		});\n\n		// Force the editor to have no fixed height and auto-resize\n		setTimeout(() => {\n			if (codeMirrorEditor) {\n				codeMirrorEditor.setSize(null, 'auto');\n				codeMirrorEditor.refresh();\n			}\n		}, 100);\n\n		// Set up change listener\n		codeMirrorEditor.on('change', function (cm, change) {\n			if (change.origin !== 'setValue') {\n				saveToUndoStack();\n				const text = cm.getValue();\n				localStorage.setItem('textoJSON', text);\n\n				if (toggleStates.autoFormat) {\n					debounce(formatJSON, 500)();\n				}\n\n				validateJSON();\n			}\n		});\n\n		// Set up selection listener for select to search\n		codeMirrorEditor.on('cursorActivity', function (cm) {\n			if (toggleStates.select2search && cm.somethingSelected()) {\n				const selectedText = cm.getSelection().trim();\n				if (selectedText.length > 0) {\n					document.getElementById('searchInput').value = selectedText;\n					performSearch();\n				}\n			}\n		});\n	}\n\n	function updateEditorSize() {\n		if (!codeMirrorEditor) return;\n		// Just refresh the editor since viewportMargin: Infinity handles the auto-sizing\n		codeMirrorEditor.refresh();\n	}\n\n	function initializeEventListeners() {\n		// Main action buttons\n		document\n			.getElementById('formatButton')\n			.addEventListener('click', formatJSON);\n		document\n			.getElementById('compressButton')\n			.addEventListener('click', compressJSON);\n\n		// Search and replace\n		document\n			.getElementById('searchInput')\n			.addEventListener('input', performSearch);\n		document\n			.getElementById('replaceAllButton')\n			.addEventListener('click', replaceAll);\n\n		// History buttons\n		document.getElementById('undoButton').addEventListener('click', undo);\n		document.getElementById('redoButton').addEventListener('click', redo);\n		document\n			.getElementById('clearHistoryButton')\n			.addEventListener('click', clearHistory);\n\n		// Utility buttons\n		document\n			.getElementById('copyButton')\n			.addEventListener('click', copyToClipboard);\n		document\n			.getElementById('clearButton')\n			.addEventListener('click', clearEditor);\n\n		// Toggle buttons\n		setupToggleButtons();\n	}\n\n	function setupToggleButtons() {\n		const toggleButtons = [\n			'cleanEscapesBtn',\n			'autoFormatBtn',\n			'select2searchBtn',\n			'caseSensitiveBtn',\n			'wholeWordBtn',\n		];\n\n		toggleButtons.forEach((buttonId) => {\n			const button = document.getElementById(buttonId);\n			const key = buttonId.replace('Btn', '');\n\n			button.addEventListener('click', function () {\n				toggleStates[key] = !toggleStates[key];\n				updateToggleButton(button, toggleStates[key]);\n				saveToggleStates();\n\n				// Trigger search update for search-related toggles\n				if (key === 'caseSensitive' || key === 'wholeWord') {\n					performSearch();\n				}\n			});\n		});\n	}\n\n	function updateToggleButton(button, active) {\n		button.setAttribute('data-active', active.toString());\n		if (active) {\n			// Active state - blue background\n			button.className =\n				'px-4 py-2 bg-blue-600 text-white border border-blue-600 rounded-md text-xs font-medium transition-all';\n		} else {\n			// Inactive state - gray background\n			button.className =\n				'px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 border border-gray-600 rounded-md text-xs font-medium transition-all';\n		}\n	}\n\n	function saveToggleStates() {\n		localStorage.setItem(\n			'jsonFormatterToggles',\n			JSON.stringify(toggleStates)\n		);\n	}\n\n	function loadToggleStates() {\n		// FORCE correct default states - ignore localStorage for now to fix the issue\n		toggleStates = {\n			cleanEscapes: true, // INACTIVO por defecto\n			autoFormat: true, // ACTIVO por defecto\n			select2search: false, // INACTIVO por defecto\n			caseSensitive: false, // INACTIVO por defecto\n			wholeWord: false, // INACTIVO por defecto\n		};\n\n		// Clear incorrect localStorage data\n		localStorage.removeItem('jsonFormatterToggles');\n\n		// Save correct defaults\n		saveToggleStates();\n\n		// Update UI with correct states\n		Object.keys(toggleStates).forEach((key) => {\n			const button = document.getElementById(key + 'Btn');\n			if (button) {\n				updateToggleButton(button, toggleStates[key]);\n			}\n		});\n	}\n\n	function setEditorContent(text) {\n		if (codeMirrorEditor) {\n			codeMirrorEditor.setValue(text);\n		}\n	}\n\n	function getEditorContent() {\n		if (codeMirrorEditor) {\n			return codeMirrorEditor.getValue();\n		}\n		return '';\n	}\n\n	// ===== SEARCH AND REPLACE =====\n	function performSearch() {\n		const searchText = document.getElementById('searchInput').value;\n		const counterElement = document.getElementById('searchCounter');\n		const counterContainer = document.getElementById(\n			'searchCounterContainer'\n		);\n\n		if (searchText.length < 1) {\n			clearHighlights();\n			counterElement.innerText = '';\n			counterContainer.classList.add('hidden');\n			return;\n		}\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\b' + pattern + '\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const text = getEditorContent();\n		const matches = text.match(regex);\n		const count = matches ? matches.length : 0;\n\n		if (count > 0) {\n			counterElement.innerText = `${count} matches`;\n			counterContainer.classList.remove('hidden');\n			counterContainer.classList.add('flex');\n			highlightSearchInCodeMirror(searchText);\n		} else {\n			counterElement.innerText = '';\n			counterContainer.classList.add('hidden');\n			clearHighlights();\n		}\n	}\n\n	function replaceAll() {\n		const searchText = document.getElementById('searchInput').value;\n		const replaceText = document.getElementById('replaceInput').value;\n\n		if (!searchText || !codeMirrorEditor) return;\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\b' + pattern + '\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const originalText = getEditorContent();\n		const newText = originalText.replace(regex, replaceText);\n\n		if (originalText !== newText) {\n			saveToUndoStack();\n			setEditorContent(newText);\n			localStorage.setItem('textoJSON', newText);\n			performSearch();\n			validateJSON();\n		}\n	}\n\n	function highlightSearchInCodeMirror(searchText) {\n		if (!codeMirrorEditor) return;\n\n		// Clear previous highlights\n		clearHighlights();\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\b' + pattern + '\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const text = codeMirrorEditor.getValue();\n		const doc = codeMirrorEditor.getDoc();\n\n		// Find and mark all matches\n		let match;\n		while ((match = regex.exec(text)) !== null) {\n			const start = doc.posFromIndex(match.index);\n			const end = doc.posFromIndex(match.index + match[0].length);\n\n			doc.markText(start, end, {\n				className: 'search-highlight',\n			});\n\n			if (!regex.global) break;\n		}\n	}\n\n	function clearHighlights() {\n		if (!codeMirrorEditor) return;\n\n		const doc = codeMirrorEditor.getDoc();\n		const marks = doc.getAllMarks();\n		marks.forEach((mark) => {\n			if (mark.className === 'search-highlight') {\n				mark.clear();\n			}\n		});\n	}\n\n	// ===== FORMATTING AND COMPRESSION =====\n	function formatJSON() {\n		let text = getEditorContent().trim();\n\n		if (!text) return;\n\n		if (toggleStates.cleanEscapes) {\n			text = cleanEscapes(text);\n		}\n\n		try {\n			const parsed = JSON.parse(text);\n			saveToUndoStack();\n			setEditorContent(JSON.stringify(parsed, null, 2));\n			showStatus('JSON formatted successfully', 'valid');\n			addToHistory(getEditorContent());\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function compressJSON() {\n		const text = getEditorContent().trim();\n\n		if (!text) return;\n\n		try {\n			const parsed = JSON.parse(text);\n			saveToUndoStack();\n			setEditorContent(JSON.stringify(parsed));\n			showStatus('JSON compressed successfully', 'valid');\n			addToHistory(getEditorContent());\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function cleanEscapes(text) {\n		return text\n			.replace(/\\\\n/g, '')\n			.replace(/\\\\\\\\/g, '\\\\')\n			.replace(/\\\\t/g, '')\n			.replace(/\\\\r/g, '')\n			.replace(/\\s+/g, ' ')\n			.trim();\n	}\n\n	// ===== UNDO/REDO =====\n	function saveToUndoStack() {\n		const currentText = getEditorContent();\n		if (currentValue !== currentText) {\n			undoStack.push(currentValue);\n			if (undoStack.length > 50) {\n				undoStack.shift();\n			}\n			redoStack = [];\n			currentValue = currentText;\n		}\n	}\n\n	function undo() {\n		if (undoStack.length > 0) {\n			redoStack.push(currentValue);\n			const previousValue = undoStack.pop();\n			setEditorContent(previousValue);\n			currentValue = previousValue;\n			localStorage.setItem('textoJSON', previousValue);\n			validateJSON();\n		}\n	}\n\n	function redo() {\n		if (redoStack.length > 0) {\n			undoStack.push(currentValue);\n			const nextValue = redoStack.pop();\n			setEditorContent(nextValue);\n			currentValue = nextValue;\n			localStorage.setItem('textoJSON', nextValue);\n			validateJSON();\n		}\n	}\n\n	// ===== VALIDATION AND STATUS =====\n	function validateJSON() {\n		const text = getEditorContent().trim();\n\n		if (!text) {\n			showStatus('', '');\n			return;\n		}\n\n		try {\n			JSON.parse(text);\n			showStatus('Valid JSON', 'valid');\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function showStatus(message, type) {\n		document.getElementById('statusValid').innerText =\n			type === 'valid' ? message : '';\n		document.getElementById('statusError').innerText =\n			type === 'error' ? message : '';\n	}\n\n	// ===== UTILITY FUNCTIONS =====\n	function debounce(func, wait) {\n		let timeout;\n		return function executedFunction(...args) {\n			const later = () => {\n				clearTimeout(timeout);\n				func(...args);\n			};\n			clearTimeout(timeout);\n			timeout = setTimeout(later, wait);\n		};\n	}\n\n	function escapeRegExp(string) {\n		return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n	}\n\n	function copyToClipboard() {\n		if (!codeMirrorEditor) return;\n\n		const text = getEditorContent();\n		if (navigator.clipboard) {\n			navigator.clipboard.writeText(text).then(() => {\n				showStatus('Copied to clipboard', 'valid');\n				setTimeout(() => showStatus('', ''), 2000);\n			});\n		} else {\n			// Fallback for older browsers\n			const textArea = document.createElement('textarea');\n			textArea.value = text;\n			document.body.appendChild(textArea);\n			textArea.select();\n			document.execCommand('copy');\n			document.body.removeChild(textArea);\n			showStatus('Copied to clipboard', 'valid');\n			setTimeout(() => showStatus('', ''), 2000);\n		}\n	}\n\n	function clearEditor() {\n		if (!codeMirrorEditor) return;\n\n		saveToUndoStack();\n		setEditorContent('');\n		currentValue = '';\n		localStorage.removeItem('textoJSON');\n		showStatus('', '');\n	}\n\n	// ===== HISTORY MANAGEMENT =====\n	function addToHistory(jsonText) {\n		if (!jsonText.trim()) return;\n\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n\n		if (checkDuplicateInHistory(jsonText)) return;\n\n		const entry = {\n			timestamp: new Date().toISOString(),\n			text: jsonText,\n		};\n\n		history.unshift(entry);\n		const trimmedHistory = history.slice(0, 50);\n		localStorage.setItem('jsonHistory', JSON.stringify(trimmedHistory));\n		updateHistoryPicklist();\n	}\n\n	function checkDuplicateInHistory(jsonText) {\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n		return history.some((entry) => entry.text === jsonText);\n	}\n\n	function clearHistory() {\n		localStorage.setItem('jsonHistory', JSON.stringify([]));\n		updateHistoryPicklist();\n	}\n\n	function updateHistoryPicklist() {\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n		const picklist = document.getElementById('historyPicklist');\n\n		picklist.innerHTML = '<option disabled selected>JSON History</option>';\n\n		history.forEach((entry) => {\n			const date = new Date(entry.timestamp);\n			const dateString = `[${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())} ${pad(date.getDate())}/${pad(date.getMonth() + 1)}/${date.getFullYear()}]`;\n			const textPreview = entry.text\n				? entry.text.substring(0, 80) + '...'\n				: '';\n			const option = new Option(\n				dateString + ' ' + textPreview,\n				JSON.stringify(entry)\n			);\n			picklist.add(option);\n		});\n	}\n\n	function pad(number) {\n		return number < 10 ? '0' + number : number;\n	}\n\n	function loadFromHistory(selectedValue) {\n		if (!selectedValue) return;\n\n		const entry = JSON.parse(selectedValue);\n		if (entry && entry.text) {\n			saveToUndoStack();\n			setEditorContent(entry.text);\n			currentValue = entry.text;\n			localStorage.setItem('textoJSON', entry.text);\n			validateJSON();\n		}\n	}\n<\/script> "], ["", " <script>\n	// Global variables\n	let codeMirrorEditor;\n	let undoStack = [];\n	let redoStack = [];\n	let currentValue = '';\n\n	// Toggle button states - CORRECT DEFAULTS\n	let toggleStates = {\n		cleanEscapes: false, // INACTIVO por defecto\n		autoFormat: true, // ACTIVO por defecto\n		select2search: false, // INACTIVO por defecto\n		caseSensitive: false, // INACTIVO por defecto\n		wholeWord: false, // INACTIVO por defecto\n	};\n\n	document.addEventListener('DOMContentLoaded', function () {\n		// Wait for CodeMirror to load\n		if (typeof CodeMirror === 'undefined') {\n			setTimeout(\n				() => document.dispatchEvent(new Event('DOMContentLoaded')),\n				100\n			);\n			return;\n		}\n\n		initializeCodeMirror();\n		const savedText = localStorage.getItem('textoJSON');\n\n		// Load saved text\n		if (savedText) {\n			setEditorContent(savedText);\n			currentValue = savedText;\n		}\n\n		updateHistoryPicklist();\n		initializeEventListeners();\n		loadToggleStates();\n	});\n\n	function initializeCodeMirror() {\n		const editorContainer = document.getElementById('jsonEditor');\n\n		codeMirrorEditor = CodeMirror(editorContainer, {\n			mode: 'application/json',\n			theme: 'default',\n			lineNumbers: true,\n			lineWrapping: true,\n			foldGutter: true,\n			gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n			indentUnit: 2,\n			tabSize: 2,\n			matchBrackets: true,\n			autoCloseBrackets: true,\n			showCursorWhenSelecting: true,\n			viewportMargin: Infinity, // CRITICAL: This removes internal scroll and makes it auto-size\n			scrollbarStyle: null, // Remove all scrollbars\n			extraKeys: {\n				'Ctrl-Q': function (cm) {\n					cm.foldCode(cm.getCursor());\n				},\n				'Alt-F': function (cm) {\n					cm.foldCode(cm.getCursor());\n				},\n				'Ctrl-F': function (cm) {\n					document.getElementById('searchInput').focus();\n					return false;\n				},\n				'Ctrl-H': function (cm) {\n					document.getElementById('replaceInput').focus();\n					return false;\n				},\n				'Ctrl-Z': function (cm) {\n					undo();\n					return false;\n				},\n				'Ctrl-Y': function (cm) {\n					redo();\n					return false;\n				},\n				'Shift-Ctrl-Z': function (cm) {\n					redo();\n					return false;\n				},\n			},\n		});\n\n		// Force the editor to have no fixed height and auto-resize\n		setTimeout(() => {\n			if (codeMirrorEditor) {\n				codeMirrorEditor.setSize(null, 'auto');\n				codeMirrorEditor.refresh();\n			}\n		}, 100);\n\n		// Set up change listener\n		codeMirrorEditor.on('change', function (cm, change) {\n			if (change.origin !== 'setValue') {\n				saveToUndoStack();\n				const text = cm.getValue();\n				localStorage.setItem('textoJSON', text);\n\n				if (toggleStates.autoFormat) {\n					debounce(formatJSON, 500)();\n				}\n\n				validateJSON();\n			}\n		});\n\n		// Set up selection listener for select to search\n		codeMirrorEditor.on('cursorActivity', function (cm) {\n			if (toggleStates.select2search && cm.somethingSelected()) {\n				const selectedText = cm.getSelection().trim();\n				if (selectedText.length > 0) {\n					document.getElementById('searchInput').value = selectedText;\n					performSearch();\n				}\n			}\n		});\n	}\n\n	function updateEditorSize() {\n		if (!codeMirrorEditor) return;\n		// Just refresh the editor since viewportMargin: Infinity handles the auto-sizing\n		codeMirrorEditor.refresh();\n	}\n\n	function initializeEventListeners() {\n		// Main action buttons\n		document\n			.getElementById('formatButton')\n			.addEventListener('click', formatJSON);\n		document\n			.getElementById('compressButton')\n			.addEventListener('click', compressJSON);\n\n		// Search and replace\n		document\n			.getElementById('searchInput')\n			.addEventListener('input', performSearch);\n		document\n			.getElementById('replaceAllButton')\n			.addEventListener('click', replaceAll);\n\n		// History buttons\n		document.getElementById('undoButton').addEventListener('click', undo);\n		document.getElementById('redoButton').addEventListener('click', redo);\n		document\n			.getElementById('clearHistoryButton')\n			.addEventListener('click', clearHistory);\n\n		// Utility buttons\n		document\n			.getElementById('copyButton')\n			.addEventListener('click', copyToClipboard);\n		document\n			.getElementById('clearButton')\n			.addEventListener('click', clearEditor);\n\n		// Toggle buttons\n		setupToggleButtons();\n	}\n\n	function setupToggleButtons() {\n		const toggleButtons = [\n			'cleanEscapesBtn',\n			'autoFormatBtn',\n			'select2searchBtn',\n			'caseSensitiveBtn',\n			'wholeWordBtn',\n		];\n\n		toggleButtons.forEach((buttonId) => {\n			const button = document.getElementById(buttonId);\n			const key = buttonId.replace('Btn', '');\n\n			button.addEventListener('click', function () {\n				toggleStates[key] = !toggleStates[key];\n				updateToggleButton(button, toggleStates[key]);\n				saveToggleStates();\n\n				// Trigger search update for search-related toggles\n				if (key === 'caseSensitive' || key === 'wholeWord') {\n					performSearch();\n				}\n			});\n		});\n	}\n\n	function updateToggleButton(button, active) {\n		button.setAttribute('data-active', active.toString());\n		if (active) {\n			// Active state - blue background\n			button.className =\n				'px-4 py-2 bg-blue-600 text-white border border-blue-600 rounded-md text-xs font-medium transition-all';\n		} else {\n			// Inactive state - gray background\n			button.className =\n				'px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 border border-gray-600 rounded-md text-xs font-medium transition-all';\n		}\n	}\n\n	function saveToggleStates() {\n		localStorage.setItem(\n			'jsonFormatterToggles',\n			JSON.stringify(toggleStates)\n		);\n	}\n\n	function loadToggleStates() {\n		// FORCE correct default states - ignore localStorage for now to fix the issue\n		toggleStates = {\n			cleanEscapes: true, // INACTIVO por defecto\n			autoFormat: true, // ACTIVO por defecto\n			select2search: false, // INACTIVO por defecto\n			caseSensitive: false, // INACTIVO por defecto\n			wholeWord: false, // INACTIVO por defecto\n		};\n\n		// Clear incorrect localStorage data\n		localStorage.removeItem('jsonFormatterToggles');\n\n		// Save correct defaults\n		saveToggleStates();\n\n		// Update UI with correct states\n		Object.keys(toggleStates).forEach((key) => {\n			const button = document.getElementById(key + 'Btn');\n			if (button) {\n				updateToggleButton(button, toggleStates[key]);\n			}\n		});\n	}\n\n	function setEditorContent(text) {\n		if (codeMirrorEditor) {\n			codeMirrorEditor.setValue(text);\n		}\n	}\n\n	function getEditorContent() {\n		if (codeMirrorEditor) {\n			return codeMirrorEditor.getValue();\n		}\n		return '';\n	}\n\n	// ===== SEARCH AND REPLACE =====\n	function performSearch() {\n		const searchText = document.getElementById('searchInput').value;\n		const counterElement = document.getElementById('searchCounter');\n		const counterContainer = document.getElementById(\n			'searchCounterContainer'\n		);\n\n		if (searchText.length < 1) {\n			clearHighlights();\n			counterElement.innerText = '';\n			counterContainer.classList.add('hidden');\n			return;\n		}\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\\\\\b' + pattern + '\\\\\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const text = getEditorContent();\n		const matches = text.match(regex);\n		const count = matches ? matches.length : 0;\n\n		if (count > 0) {\n			counterElement.innerText = \\`\\${count} matches\\`;\n			counterContainer.classList.remove('hidden');\n			counterContainer.classList.add('flex');\n			highlightSearchInCodeMirror(searchText);\n		} else {\n			counterElement.innerText = '';\n			counterContainer.classList.add('hidden');\n			clearHighlights();\n		}\n	}\n\n	function replaceAll() {\n		const searchText = document.getElementById('searchInput').value;\n		const replaceText = document.getElementById('replaceInput').value;\n\n		if (!searchText || !codeMirrorEditor) return;\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\\\\\b' + pattern + '\\\\\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const originalText = getEditorContent();\n		const newText = originalText.replace(regex, replaceText);\n\n		if (originalText !== newText) {\n			saveToUndoStack();\n			setEditorContent(newText);\n			localStorage.setItem('textoJSON', newText);\n			performSearch();\n			validateJSON();\n		}\n	}\n\n	function highlightSearchInCodeMirror(searchText) {\n		if (!codeMirrorEditor) return;\n\n		// Clear previous highlights\n		clearHighlights();\n\n		const flags = toggleStates.caseSensitive ? 'g' : 'gi';\n		let pattern = escapeRegExp(searchText);\n		if (toggleStates.wholeWord) {\n			pattern = '\\\\\\\\b' + pattern + '\\\\\\\\b';\n		}\n\n		const regex = new RegExp(pattern, flags);\n		const text = codeMirrorEditor.getValue();\n		const doc = codeMirrorEditor.getDoc();\n\n		// Find and mark all matches\n		let match;\n		while ((match = regex.exec(text)) !== null) {\n			const start = doc.posFromIndex(match.index);\n			const end = doc.posFromIndex(match.index + match[0].length);\n\n			doc.markText(start, end, {\n				className: 'search-highlight',\n			});\n\n			if (!regex.global) break;\n		}\n	}\n\n	function clearHighlights() {\n		if (!codeMirrorEditor) return;\n\n		const doc = codeMirrorEditor.getDoc();\n		const marks = doc.getAllMarks();\n		marks.forEach((mark) => {\n			if (mark.className === 'search-highlight') {\n				mark.clear();\n			}\n		});\n	}\n\n	// ===== FORMATTING AND COMPRESSION =====\n	function formatJSON() {\n		let text = getEditorContent().trim();\n\n		if (!text) return;\n\n		if (toggleStates.cleanEscapes) {\n			text = cleanEscapes(text);\n		}\n\n		try {\n			const parsed = JSON.parse(text);\n			saveToUndoStack();\n			setEditorContent(JSON.stringify(parsed, null, 2));\n			showStatus('JSON formatted successfully', 'valid');\n			addToHistory(getEditorContent());\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function compressJSON() {\n		const text = getEditorContent().trim();\n\n		if (!text) return;\n\n		try {\n			const parsed = JSON.parse(text);\n			saveToUndoStack();\n			setEditorContent(JSON.stringify(parsed));\n			showStatus('JSON compressed successfully', 'valid');\n			addToHistory(getEditorContent());\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function cleanEscapes(text) {\n		return text\n			.replace(/\\\\\\\\n/g, '')\n			.replace(/\\\\\\\\\\\\\\\\/g, '\\\\\\\\')\n			.replace(/\\\\\\\\t/g, '')\n			.replace(/\\\\\\\\r/g, '')\n			.replace(/\\\\s+/g, ' ')\n			.trim();\n	}\n\n	// ===== UNDO/REDO =====\n	function saveToUndoStack() {\n		const currentText = getEditorContent();\n		if (currentValue !== currentText) {\n			undoStack.push(currentValue);\n			if (undoStack.length > 50) {\n				undoStack.shift();\n			}\n			redoStack = [];\n			currentValue = currentText;\n		}\n	}\n\n	function undo() {\n		if (undoStack.length > 0) {\n			redoStack.push(currentValue);\n			const previousValue = undoStack.pop();\n			setEditorContent(previousValue);\n			currentValue = previousValue;\n			localStorage.setItem('textoJSON', previousValue);\n			validateJSON();\n		}\n	}\n\n	function redo() {\n		if (redoStack.length > 0) {\n			undoStack.push(currentValue);\n			const nextValue = redoStack.pop();\n			setEditorContent(nextValue);\n			currentValue = nextValue;\n			localStorage.setItem('textoJSON', nextValue);\n			validateJSON();\n		}\n	}\n\n	// ===== VALIDATION AND STATUS =====\n	function validateJSON() {\n		const text = getEditorContent().trim();\n\n		if (!text) {\n			showStatus('', '');\n			return;\n		}\n\n		try {\n			JSON.parse(text);\n			showStatus('Valid JSON', 'valid');\n		} catch (e) {\n			showStatus('Error: ' + e.message, 'error');\n		}\n	}\n\n	function showStatus(message, type) {\n		document.getElementById('statusValid').innerText =\n			type === 'valid' ? message : '';\n		document.getElementById('statusError').innerText =\n			type === 'error' ? message : '';\n	}\n\n	// ===== UTILITY FUNCTIONS =====\n	function debounce(func, wait) {\n		let timeout;\n		return function executedFunction(...args) {\n			const later = () => {\n				clearTimeout(timeout);\n				func(...args);\n			};\n			clearTimeout(timeout);\n			timeout = setTimeout(later, wait);\n		};\n	}\n\n	function escapeRegExp(string) {\n		return string.replace(/[.*+?^\\${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&');\n	}\n\n	function copyToClipboard() {\n		if (!codeMirrorEditor) return;\n\n		const text = getEditorContent();\n		if (navigator.clipboard) {\n			navigator.clipboard.writeText(text).then(() => {\n				showStatus('Copied to clipboard', 'valid');\n				setTimeout(() => showStatus('', ''), 2000);\n			});\n		} else {\n			// Fallback for older browsers\n			const textArea = document.createElement('textarea');\n			textArea.value = text;\n			document.body.appendChild(textArea);\n			textArea.select();\n			document.execCommand('copy');\n			document.body.removeChild(textArea);\n			showStatus('Copied to clipboard', 'valid');\n			setTimeout(() => showStatus('', ''), 2000);\n		}\n	}\n\n	function clearEditor() {\n		if (!codeMirrorEditor) return;\n\n		saveToUndoStack();\n		setEditorContent('');\n		currentValue = '';\n		localStorage.removeItem('textoJSON');\n		showStatus('', '');\n	}\n\n	// ===== HISTORY MANAGEMENT =====\n	function addToHistory(jsonText) {\n		if (!jsonText.trim()) return;\n\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n\n		if (checkDuplicateInHistory(jsonText)) return;\n\n		const entry = {\n			timestamp: new Date().toISOString(),\n			text: jsonText,\n		};\n\n		history.unshift(entry);\n		const trimmedHistory = history.slice(0, 50);\n		localStorage.setItem('jsonHistory', JSON.stringify(trimmedHistory));\n		updateHistoryPicklist();\n	}\n\n	function checkDuplicateInHistory(jsonText) {\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n		return history.some((entry) => entry.text === jsonText);\n	}\n\n	function clearHistory() {\n		localStorage.setItem('jsonHistory', JSON.stringify([]));\n		updateHistoryPicklist();\n	}\n\n	function updateHistoryPicklist() {\n		const history = JSON.parse(localStorage.getItem('jsonHistory') || '[]');\n		const picklist = document.getElementById('historyPicklist');\n\n		picklist.innerHTML = '<option disabled selected>JSON History</option>';\n\n		history.forEach((entry) => {\n			const date = new Date(entry.timestamp);\n			const dateString = \\`[\\${pad(date.getHours())}:\\${pad(date.getMinutes())}:\\${pad(date.getSeconds())} \\${pad(date.getDate())}/\\${pad(date.getMonth() + 1)}/\\${date.getFullYear()}]\\`;\n			const textPreview = entry.text\n				? entry.text.substring(0, 80) + '...'\n				: '';\n			const option = new Option(\n				dateString + ' ' + textPreview,\n				JSON.stringify(entry)\n			);\n			picklist.add(option);\n		});\n	}\n\n	function pad(number) {\n		return number < 10 ? '0' + number : number;\n	}\n\n	function loadFromHistory(selectedValue) {\n		if (!selectedValue) return;\n\n		const entry = JSON.parse(selectedValue);\n		if (entry && entry.text) {\n			saveToUndoStack();\n			setEditorContent(entry.text);\n			currentValue = entry.text;\n			localStorage.setItem('textoJSON', entry.text);\n			validateJSON();\n		}\n	}\n<\/script> "])), renderComponent($$result, "BasicLayout", $$BasicLayout, { "title": "JSON Formatter | Adrian Palomo", "data-astro-cid-mwlrrin4": true }, { "default": ($$result2) => renderTemplate`  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/foldgutter.min.css"> ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=0&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=1&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=2&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=3&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=4&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=5&lang.ts")} ${renderScript($$result2, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro?astro&type=script&index=6&lang.ts")} ${maybeRenderHead()}<div class="min-h-screen bg-gray-900 p-4 font-sans text-gray-100" data-astro-cid-mwlrrin4> <h1 class="mb-6 text-3xl font-bold text-blue-500" data-astro-cid-mwlrrin4>
JSON Formatter
</h1> <!-- Control Panel --> <div class="mb-4 rounded-lg border border-gray-700 bg-gray-800 p-4 shadow-lg" data-astro-cid-mwlrrin4> <!-- Search & Replace Section --> <div class="mb-6 flex flex-col gap-3" data-astro-cid-mwlrrin4> <div class="flex flex-wrap items-center gap-3" data-astro-cid-mwlrrin4> <input type="text" id="searchInput" placeholder="Search..." class="min-w-48 flex-1 rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-gray-100 placeholder-gray-400 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none" data-astro-cid-mwlrrin4> <input type="text" id="replaceInput" placeholder="Replace with..." class="min-w-48 flex-1 rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-gray-100 placeholder-gray-400 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none" data-astro-cid-mwlrrin4> <button id="replaceAllButton" class="rounded-md bg-blue-600 px-6 py-2 font-medium text-white transition-colors hover:bg-blue-700" data-astro-cid-mwlrrin4>Replace All</button> </div> <div class="hidden" id="searchCounterContainer" data-astro-cid-mwlrrin4> <span id="searchCounter" class="rounded border border-gray-600 bg-gray-700 px-2 py-1 text-xs text-gray-400" data-astro-cid-mwlrrin4></span> </div> </div> <!-- Actions & Options --> <div class="flex flex-col justify-between gap-4 lg:flex-row" data-astro-cid-mwlrrin4> <div class="flex flex-wrap gap-3" data-astro-cid-mwlrrin4> <button id="formatButton" class="rounded-md bg-blue-600 px-6 py-2 font-medium text-white transition-colors hover:bg-blue-700" data-astro-cid-mwlrrin4>Format</button> <button id="compressButton" class="rounded-md bg-blue-600 px-6 py-2 font-medium text-white transition-colors hover:bg-blue-700" data-astro-cid-mwlrrin4>Compress</button> </div> <div class="flex flex-wrap gap-2" data-astro-cid-mwlrrin4> <button id="cleanEscapesBtn" class="rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-xs font-medium text-gray-300 transition-all hover:bg-gray-600" data-active="false" data-astro-cid-mwlrrin4>Clean Escapes</button> <button id="autoFormatBtn" class="rounded-md border border-blue-600 bg-blue-600 px-4 py-2 text-xs font-medium text-white transition-all" data-active="true" data-astro-cid-mwlrrin4>Auto Format</button> <button id="select2searchBtn" class="rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-xs font-medium text-gray-300 transition-all hover:bg-gray-600" data-active="false" data-astro-cid-mwlrrin4>Select to Search</button> <button id="caseSensitiveBtn" class="rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-xs font-medium text-gray-300 transition-all hover:bg-gray-600" data-active="false" data-astro-cid-mwlrrin4>Case Sensitive</button> <button id="wholeWordBtn" class="rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-xs font-medium text-gray-300 transition-all hover:bg-gray-600" data-active="false" data-astro-cid-mwlrrin4>Whole Word</button> </div> </div> </div> <!-- Status --> <div class="mb-4 flex items-center gap-4" data-astro-cid-mwlrrin4> <span id="statusValid" class="text-sm font-medium text-green-500" data-astro-cid-mwlrrin4></span> <span id="statusError" class="text-sm font-medium text-red-500" data-astro-cid-mwlrrin4></span> </div> <!-- Editor Toolbar --> <div class="flex flex-wrap items-center justify-between gap-4 border-b border-gray-700 bg-gray-800 px-5 py-4" data-astro-cid-mwlrrin4> <div class="flex items-center gap-3" data-astro-cid-mwlrrin4> <button id="copyButton" class="rounded-md bg-gray-600 p-2 text-gray-100 transition-colors hover:bg-gray-500" title="Copy" data-astro-cid-mwlrrin4> ${renderComponent($$result2, "Copy", $$Copy2, { "data-astro-cid-mwlrrin4": true })} </button> <button id="clearButton" class="rounded-md bg-gray-600 p-2 text-gray-100 transition-colors hover:bg-gray-500" title="Clear" data-astro-cid-mwlrrin4> ${renderComponent($$result2, "Trash", $$Trash, { "data-astro-cid-mwlrrin4": true })} </button> <button id="undoButton" class="rounded-md bg-gray-600 p-2 text-gray-100 transition-colors hover:bg-gray-500" title="Undo" data-astro-cid-mwlrrin4> ${renderComponent($$result2, "Undo", $$Undo, { "data-astro-cid-mwlrrin4": true })} </button> <button id="redoButton" class="rounded-md bg-gray-600 p-2 text-gray-100 transition-colors hover:bg-gray-500" title="Redo" data-astro-cid-mwlrrin4> ${renderComponent($$result2, "Redo", $$Redo, { "data-astro-cid-mwlrrin4": true })} </button> </div> <div class="flex items-center gap-3" data-astro-cid-mwlrrin4> <select id="historyPicklist" class="max-w-72 min-w-48 rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-gray-100" data-astro-cid-mwlrrin4> <option disabled selected data-astro-cid-mwlrrin4>JSON History</option> </select> <button id="clearHistoryButton" class="rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700" data-astro-cid-mwlrrin4>Clear</button> </div> </div> <!-- JSON Editor (CodeMirror will be initialized here) --> <div id="jsonEditor" class="mt-4 overflow-visible rounded-lg border border-gray-700 bg-gray-800" data-astro-cid-mwlrrin4></div> </div> ` }));
}, "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro", void 0);

const $$file = "/Users/apalomo/Code/Proyectos/adrianpalomo/src/pages/tools/jsonFormatter.astro";
const $$url = "/tools/jsonFormatter";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	default: $$JsonFormatter,
	file: $$file,
	url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
